<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SANCA MOTOR | SUPER PRO GRATIS</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
<style>
body{font-family:'Poppins',sans-serif;margin:0;background:#111;color:white}
header{background:#b30000;padding:20px;text-align:center;font-size:28px;font-weight:bold}
.container{padding:20px}
.card{background:#1e1e1e;padding:15px;margin:10px 0;border-radius:10px;box-shadow:0 0 10px rgba(255,0,0,0.3)}
button{background:#25D366;color:white;border:none;padding:8px 12px;border-radius:5px;cursor:pointer;margin-top:5px}
button:hover{opacity:0.9}
input,select{padding:8px;margin:5px 0;width:100%;border-radius:5px;border:none}
.admin-panel{display:none;background:#222;padding:15px;margin-top:20px;border-radius:10px}
.cart-btn{position:fixed;bottom:20px;right:20px;background:red;padding:15px;border-radius:50px;cursor:pointer}
img{max-width:100%;border-radius:10px}
table{width:100%;border-collapse:collapse;margin-top:10px}
th,td{border:1px solid #fff;padding:8px;text-align:center}
th{background:#b30000}
</style>
</head>
<body>

<header>ðŸ”¥ SANCA MOTOR SUPER PRO GRATIS ðŸ”¥</header>

<div class="container">
<h2>Produk</h2>
<div id="produk-list"></div>

<div class="admin-panel" id="adminPanel">
<h3>Admin Panel</h3>
<input type="text" id="newName" placeholder="Nama Produk">
<input type="number" id="newPrice" placeholder="Harga">
<input type="number" id="newStock" placeholder="Stok">
<input type="file" id="newImage">
<button onclick="addProduct()">Tambah Produk</button>

<h3>Laporan Penjualan</h3>
<table>
<thead><tr><th>No</th><th>Produk</th><th>Qty</th><th>Total (Rp)</th></tr></thead>
<tbody id="salesReport"></tbody>
</table>
<h3>Total Omset: Rp <span id="totalRevenue">0</span></h3>
</div>

<button onclick="loginAdmin()">Login Admin</button>

<div class="cart-btn" onclick="checkout()">ðŸ›’ Checkout</div>
</div>

<script>
// DATA
let products = JSON.parse(localStorage.getItem("products")) || [];
let cart = [];
let sales = JSON.parse(localStorage.getItem("sales")) || [];

// RENDER PRODUK
function renderProducts(){
let container=document.getElementById("produk-list");
container.innerHTML="";
products.forEach((p,i)=>{
container.innerHTML += `<div class="card">
<img src="${p.image}" alt="${p.name}">
<h3>${p.name}</h3>
<p>Rp ${p.price.toLocaleString()}</p>
<p>Stok: ${p.stock}</p>
<button onclick="buy(${i})">Beli</button>
<button onclick="deleteProduct(${i})">Hapus</button>
</div>`;
});
}

// TAMBAH PRODUK
function addProduct(){
let name=document.getElementById("newName").value;
let price=parseInt(document.getElementById("newPrice").value);
let stock=parseInt(document.getElementById("newStock").value);
let file=document.getElementById("newImage").files[0];
if(!name||!price||!stock||!file){alert("Isi semua data!");return;}
let reader=new FileReader();
reader.onload=function(e){
products.push({name:name,price:price,stock:stock,image:e.target.result});
localStorage.setItem("products",JSON.stringify(products));
renderProducts();
};
reader.readAsDataURL(file);
}

// HAPUS PRODUK
function deleteProduct(i){
products.splice(i,1);
localStorage.setItem("products",JSON.stringify(products));
renderProducts();
}

// BELI PRODUK
function buy(i){
if(products[i].stock>0){
products[i].stock--;
cart.push({...products[i], qty:1});
localStorage.setItem("products",JSON.stringify(products));
renderProducts();
alert("Ditambahkan ke keranjang");
}else{alert("Stok habis!")}
}

// CHECKOUT
function checkout(){
if(cart.length==0){alert("Keranjang kosong!");return;}
let message="Halo SANCA MOTOR, saya mau pesan:%0A";
let total=0;
cart.forEach(item=>{
message+=`- ${item.name} x${item.qty} (Rp ${item.price.toLocaleString()})%0A`;
total+=item.price*item.qty;
// SIMPAN PENJUALAN
sales.push({name:item.name,qty:item.qty,total:item.price*item.qty});
});
localStorage.setItem("sales",JSON.stringify(sales));
message+=`%0ATotal: Rp ${total.toLocaleString()}`;
window.open("https://wa.me/6285269965249?text="+message);
cart=[];
renderSales();
}

// ADMIN LOGIN
function loginAdmin(){
let pass=prompt("Masukkan Password Admin:");
if(pass==="1234"){document.getElementById("adminPanel").style.display="block"; renderSales();}
else{alert("Password salah!")}
}

// RENDER LAPORAN
function renderSales(){
let tbody=document.getElementById("salesReport");
tbody.innerHTML="";
let totalRevenue=0;
sales.forEach((s,i)=>{
tbody.innerHTML+=`<tr><td>${i+1}</td><td>${s.name}</td><td>${s.qty}</td><td>${s.total.toLocaleString()}</td></tr>`;
totalRevenue+=s.total;
});
document.getElementById("totalRevenue").textContent=totalRevenue.toLocaleString();
}

renderProducts();
</script>

</body>
</html>
